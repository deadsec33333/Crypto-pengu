"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8015],{78015:function(e,n,t){t.d(n,{Z:function(){return y}});var o=t(22988),a=t(39428),c=t(40882),u=t(2265),r=t(17470),i=t(35894),l=t(12475),s=t(56800),p=t.n(s),m=t(28884),d=t(82450),f=t(14338),v=t(42897),h=t(17492),b=t(67638),C=u.forwardRef(function(e,n){var t,o=e.prefixCls,a=e.id,c=e.inputElement,r=e.disabled,i=e.tabIndex,l=e.autoFocus,s=e.autoComplete,m=e.editable,d=e.activeDescendantId,f=e.value,C=e.maxLength,g=e.onKeyDown,E=e.onMouseDown,I=e.onChange,x=e.onPaste,w=e.onCompositionStart,D=e.onCompositionEnd,y=e.open,S=e.attrs,Z=c||u.createElement("input",null),N=Z,M=N.ref,R=N.props,P=R.onKeyDown,k=R.onChange,K=R.onMouseDown,T=R.onCompositionStart,F=R.onCompositionEnd,L=R.style;return(0,b.Kp)(!("maxLength"in Z.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Z=u.cloneElement(Z,(0,v.Z)((0,v.Z)((0,v.Z)({type:"search"},R),{},{id:a,ref:(0,h.sQ)(n,M),disabled:r,tabIndex:i,autoComplete:s||"off",autoFocus:l,className:p()("".concat(o,"-selection-search-input"),null===(t=Z)||void 0===t||null===(t=t.props)||void 0===t?void 0:t.className),role:"combobox","aria-expanded":y||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":y?d:void 0},S),{},{value:m?f:"",maxLength:C,readOnly:!m,unselectable:m?null:"on",style:(0,v.Z)((0,v.Z)({},L),{},{opacity:m?null:0}),onKeyDown:function(e){g(e),P&&P(e)},onMouseDown:function(e){E(e),K&&K(e)},onChange:function(e){I(e),k&&k(e)},onCompositionStart:function(e){w(e),T&&T(e)},onCompositionEnd:function(e){D(e),F&&F(e)},onPaste:x}))}),g=t(76806),E=t(83240);function I(e){var n;return null!==(n=e.key)&&void 0!==n?n:e.value}var x=function(e){e.preventDefault(),e.stopPropagation()},w=function(e){var n=e.id,t=e.prefixCls,o=e.values,c=e.open,r=e.searchValue,i=e.autoClearSearchValue,s=e.inputRef,v=e.placeholder,h=e.disabled,b=e.mode,w=e.showSearch,D=e.autoFocus,y=e.autoComplete,S=e.activeDescendantId,Z=e.tabIndex,N=e.removeIcon,M=e.maxTagCount,R=e.maxTagTextLength,P=e.maxTagPlaceholder,k=void 0===P?function(e){return"+ ".concat(e.length," ...")}:P,K=e.tagRender,T=e.onToggleOpen,F=e.onRemove,L=e.onInputChange,_=e.onInputPaste,V=e.onInputKeyDown,O=e.onInputMouseDown,W=e.onInputCompositionStart,z=e.onInputCompositionEnd,Q=u.useRef(null),B=(0,u.useState)(0),U=(0,a.Z)(B,2),Y=U[0],q=U[1],A=(0,u.useState)(!1),H=(0,a.Z)(A,2),$=H[0],j=H[1],G="".concat(t,"-selection"),J=c||"multiple"===b&&!1===i||"tags"===b?r:"",X="tags"===b||"multiple"===b&&!1===i||w&&(c||$);(0,g.Z)(function(){q(Q.current.scrollWidth)},[J]);var ee=function(e,n,t,o,a){return u.createElement("span",{title:(0,E.YQ)(e),className:p()("".concat(G,"-item"),(0,l.Z)({},"".concat(G,"-item-disabled"),t))},u.createElement("span",{className:"".concat(G,"-item-content")},n),o&&u.createElement(f.Z,{className:"".concat(G,"-item-remove"),onMouseDown:x,onClick:a,customizeIcon:N},"\xd7"))},en=function(e,n,t,o,a,r){return u.createElement("span",{onMouseDown:function(e){x(e),T(!c)}},K({label:n,value:e,disabled:t,closable:o,onClose:a,isMaxTag:!!r}))},et=u.createElement("div",{className:"".concat(G,"-search"),style:{width:Y},onFocus:function(){j(!0)},onBlur:function(){j(!1)}},u.createElement(C,{ref:s,open:c,prefixCls:t,id:n,inputElement:null,disabled:h,autoFocus:D,autoComplete:y,editable:X,activeDescendantId:S,value:J,onKeyDown:V,onMouseDown:O,onChange:L,onPaste:_,onCompositionStart:W,onCompositionEnd:z,tabIndex:Z,attrs:(0,m.Z)(e,!0)}),u.createElement("span",{ref:Q,className:"".concat(G,"-search-mirror"),"aria-hidden":!0},J,"\xa0")),eo=u.createElement(d.Z,{prefixCls:"".concat(G,"-overflow"),data:o,renderItem:function(e){var n=e.disabled,t=e.label,o=e.value,a=!h&&!n,c=t;if("number"==typeof R&&("string"==typeof t||"number"==typeof t)){var u=String(c);u.length>R&&(c="".concat(u.slice(0,R),"..."))}var r=function(n){n&&n.stopPropagation(),F(e)};return"function"==typeof K?en(o,c,n,a,r):ee(e,c,n,a,r)},renderRest:function(e){var n="function"==typeof k?k(e):k;return"function"==typeof K?en(void 0,n,!1,!1,void 0,!0):ee({title:n},n,!1)},suffix:et,itemKey:I,maxCount:M});return u.createElement(u.Fragment,null,eo,!o.length&&!J&&u.createElement("span",{className:"".concat(G,"-placeholder")},v))},D=function(e){var n=e.inputElement,t=e.prefixCls,o=e.id,c=e.inputRef,r=e.disabled,i=e.autoFocus,l=e.autoComplete,s=e.activeDescendantId,p=e.mode,d=e.open,f=e.values,v=e.placeholder,h=e.tabIndex,b=e.showSearch,g=e.searchValue,I=e.activeValue,x=e.maxLength,w=e.onInputKeyDown,D=e.onInputMouseDown,y=e.onInputChange,S=e.onInputPaste,Z=e.onInputCompositionStart,N=e.onInputCompositionEnd,M=e.title,R=u.useState(!1),P=(0,a.Z)(R,2),k=P[0],K=P[1],T="combobox"===p,F=T||b,L=f[0],_=g||"";T&&I&&!k&&(_=I),u.useEffect(function(){T&&K(!1)},[T,I]);var V=("combobox"===p||!!d||!!b)&&!!_,O=void 0===M?(0,E.YQ)(L):M,W=u.useMemo(function(){return L?null:u.createElement("span",{className:"".concat(t,"-selection-placeholder"),style:V?{visibility:"hidden"}:void 0},v)},[L,V,v,t]);return u.createElement(u.Fragment,null,u.createElement("span",{className:"".concat(t,"-selection-search")},u.createElement(C,{ref:c,prefixCls:t,id:o,open:d,inputElement:n,disabled:r,autoFocus:i,autoComplete:l,editable:F,activeDescendantId:s,value:_,onKeyDown:w,onMouseDown:D,onChange:function(e){K(!0),y(e)},onPaste:S,onCompositionStart:Z,onCompositionEnd:N,tabIndex:h,attrs:(0,m.Z)(e,!0),maxLength:T?x:void 0})),!T&&L?u.createElement("span",{className:"".concat(t,"-selection-item"),title:O,style:V?{visibility:"hidden"}:void 0},L.label):null,W)},y=u.forwardRef(function(e,n){var t=(0,u.useRef)(null),l=(0,u.useRef)(!1),s=e.prefixCls,p=e.open,m=e.mode,d=e.showSearch,f=e.tokenWithEnter,v=e.disabled,h=e.autoClearSearchValue,b=e.onSearch,C=e.onSearchSubmit,g=e.onToggleOpen,E=e.onInputKeyDown,I=e.domRef;u.useImperativeHandle(n,function(){return{focus:function(e){t.current.focus(e)},blur:function(){t.current.blur()}}});var x=(0,r.Z)(0),y=(0,a.Z)(x,2),S=y[0],Z=y[1],N=(0,u.useRef)(null),M=function(e){!1!==b(e,!0,l.current)&&g(!0)},R={inputRef:t,onInputKeyDown:function(e){var n=e.which;(n===c.Z.UP||n===c.Z.DOWN)&&e.preventDefault(),E&&E(e),n!==c.Z.ENTER||"tags"!==m||l.current||p||null==C||C(e.target.value),(0,i.q)(n)&&g(!0)},onInputMouseDown:function(){Z(!0)},onInputChange:function(e){var n=e.target.value;if(f&&N.current&&/[\r\n]/.test(N.current)){var t=N.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");n=n.replace(t,N.current)}N.current=null,M(n)},onInputPaste:function(e){var n=e.clipboardData,t=null==n?void 0:n.getData("text");N.current=t||""},onInputCompositionStart:function(){l.current=!0},onInputCompositionEnd:function(e){l.current=!1,"combobox"!==m&&M(e.target.value)}},P="multiple"===m||"tags"===m?u.createElement(w,(0,o.Z)({},e,R)):u.createElement(D,(0,o.Z)({},e,R));return u.createElement("div",{ref:I,className:"".concat(s,"-selector"),onClick:function(e){e.target!==t.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){t.current.focus()}):t.current.focus())},onMouseDown:function(e){var n=S();e.target===t.current||n||"combobox"===m&&v||e.preventDefault(),("combobox"===m||d&&n)&&p||(p&&!1!==h&&b("",!0,!1),g())}},P)})},14338:function(e,n,t){var o=t(2265),a=t(56800),c=t.n(a);n.Z=function(e){var n=e.className,t=e.customizeIcon,a=e.customizeIconProps,u=e.children,r=e.onMouseDown,i=e.onClick,l="function"==typeof t?t(a):t;return o.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),null==r||r(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:i,"aria-hidden":!0},void 0!==l?l:o.createElement("span",{className:c()(n.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},u))}}}]);