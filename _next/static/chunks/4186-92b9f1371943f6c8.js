"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4186],{24186:function(e,t,n){n.d(t,{Z:function(){return E}});var a,r=n(22988),o=n(12475),i=n(42897),l=n(57111),u=n(39428),s=n(135),c=n(56800),d=n.n(c),f=n(77621),p=n(10436),m=n(73283),g=n(36946),v=n(2265),h=n(8620),b=n(38085),x=n(89534),y=n(80333),w=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],Z={},z=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],S=v.forwardRef(function(e,t){var n=e.prefixCls,l=(e.onPressEnter,e.defaultValue),c=e.value,f=e.autoSize,p=e.onResize,m=e.className,S=e.style,C=e.disabled,E=e.onChange,R=(e.onInternalAutoSize,(0,s.Z)(e,z)),A=(0,g.Z)(l,{value:c,postState:function(e){return null!=e?e:""}}),N=(0,u.Z)(A,2),V=N[0],F=N[1],P=v.useRef();v.useImperativeHandle(t,function(){return{textArea:P.current}});var k=v.useMemo(function(){return f&&"object"===(0,h.Z)(f)?[f.minRows,f.maxRows]:[]},[f]),H=(0,u.Z)(k,2),T=H[0],I=H[1],L=!!f,O=function(){try{if(document.activeElement===P.current){var e=P.current,t=e.selectionStart,n=e.selectionEnd,a=e.scrollTop;P.current.setSelectionRange(t,n),P.current.scrollTop=a}}catch(e){}},_=v.useState(2),B=(0,u.Z)(_,2),M=B[0],W=B[1],j=v.useState(),D=(0,u.Z)(j,2),J=D[0],K=D[1],Y=function(){W(0)};(0,x.Z)(function(){L&&Y()},[c,T,I,L]),(0,x.Z)(function(){if(0===M)W(1);else if(1===M){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a||((a=document.createElement("textarea")).setAttribute("tab-index","-1"),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),e.getAttribute("wrap")?a.setAttribute("wrap",e.getAttribute("wrap")):a.removeAttribute("wrap");var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&Z[n])return Z[n];var a=window.getComputedStyle(e),r=a.getPropertyValue("box-sizing")||a.getPropertyValue("-moz-box-sizing")||a.getPropertyValue("-webkit-box-sizing"),o=parseFloat(a.getPropertyValue("padding-bottom"))+parseFloat(a.getPropertyValue("padding-top")),i=parseFloat(a.getPropertyValue("border-bottom-width"))+parseFloat(a.getPropertyValue("border-top-width")),l={sizingStyle:w.map(function(e){return"".concat(e,":").concat(a.getPropertyValue(e))}).join(";"),paddingSize:o,borderSize:i,boxSizing:r};return t&&n&&(Z[n]=l),l}(e,n),l=i.paddingSize,u=i.borderSize,s=i.boxSizing,c=i.sizingStyle;a.setAttribute("style","".concat(c,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),a.value=e.value||e.placeholder||"";var d=void 0,f=void 0,p=a.scrollHeight;if("border-box"===s?p+=u:"content-box"===s&&(p-=l),null!==r||null!==o){a.value=" ";var m=a.scrollHeight-l;null!==r&&(d=m*r,"border-box"===s&&(d=d+l+u),p=Math.max(d,p)),null!==o&&(f=m*o,"border-box"===s&&(f=f+l+u),t=p>f?"":"hidden",p=Math.min(f,p))}var g={height:p,overflowY:t,resize:"none"};return d&&(g.minHeight=d),f&&(g.maxHeight=f),g}(P.current,!1,T,I);W(2),K(e)}else O()},[M]);var Q=v.useRef(),X=function(){y.Z.cancel(Q.current)};v.useEffect(function(){return X},[]);var q=(0,i.Z)((0,i.Z)({},S),L?J:null);return(0===M||1===M)&&(q.overflowY="hidden",q.overflowX="hidden"),v.createElement(b.Z,{onResize:function(e){2===M&&(null==p||p(e),f&&(X(),Q.current=(0,y.Z)(function(){Y()})))},disabled:!(f||p)},v.createElement("textarea",(0,r.Z)({},R,{ref:P,style:q,className:d()(n,m,(0,o.Z)({},"".concat(n,"-disabled"),C)),disabled:C,value:V,onChange:function(e){F(e.target.value),null==E||E(e)}})))}),C=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","readOnly"],E=v.forwardRef(function(e,t){var n,a,c=e.defaultValue,h=e.value,b=e.onFocus,x=e.onBlur,y=e.onChange,w=e.allowClear,Z=e.maxLength,z=e.onCompositionStart,E=e.onCompositionEnd,R=e.suffix,A=e.prefixCls,N=void 0===A?"rc-textarea":A,V=e.showCount,F=e.count,P=e.className,k=e.style,H=e.disabled,T=e.hidden,I=e.classNames,L=e.styles,O=e.onResize,_=e.readOnly,B=(0,s.Z)(e,C),M=(0,g.Z)(c,{value:h,defaultValue:c}),W=(0,u.Z)(M,2),j=W[0],D=W[1],J=null==j?"":String(j),K=v.useState(!1),Y=(0,u.Z)(K,2),Q=Y[0],X=Y[1],q=v.useRef(!1),G=v.useState(null),U=(0,u.Z)(G,2),$=U[0],ee=U[1],et=(0,v.useRef)(null),en=(0,v.useRef)(null),ea=function(){var e;return null===(e=en.current)||void 0===e?void 0:e.textArea},er=function(){ea().focus()};(0,v.useImperativeHandle)(t,function(){var e;return{resizableTextArea:en.current,focus:er,blur:function(){ea().blur()},nativeElement:(null===(e=et.current)||void 0===e?void 0:e.nativeElement)||ea()}}),(0,v.useEffect)(function(){X(function(e){return!H&&e})},[H]);var eo=v.useState(null),ei=(0,u.Z)(eo,2),el=ei[0],eu=ei[1];v.useEffect(function(){if(el){var e;(e=ea()).setSelectionRange.apply(e,(0,l.Z)(el))}},[el]);var es=(0,p.Z)(F,V),ec=null!==(n=es.max)&&void 0!==n?n:Z,ed=Number(ec)>0,ef=es.strategy(J),ep=!!ec&&ef>ec,em=function(e,t){var n=t;!q.current&&es.exceedFormatter&&es.max&&es.strategy(t)>es.max&&(n=es.exceedFormatter(t,{max:es.max}),t!==n&&eu([ea().selectionStart||0,ea().selectionEnd||0])),D(n),(0,m.rJ)(e.currentTarget,e,y,n)},eg=R;es.show&&(a=es.showFormatter?es.showFormatter({value:J,count:ef,maxLength:ec}):"".concat(ef).concat(ed?" / ".concat(ec):""),eg=v.createElement(v.Fragment,null,eg,v.createElement("span",{className:d()("".concat(N,"-data-count"),null==I?void 0:I.count),style:null==L?void 0:L.count},a)));var ev=!B.autoSize&&!V&&!w;return v.createElement(f.Q,{ref:et,value:J,allowClear:w,handleReset:function(e){D(""),er(),(0,m.rJ)(ea(),e,y)},suffix:eg,prefixCls:N,classNames:(0,i.Z)((0,i.Z)({},I),{},{affixWrapper:d()(null==I?void 0:I.affixWrapper,(0,o.Z)((0,o.Z)({},"".concat(N,"-show-count"),V),"".concat(N,"-textarea-allow-clear"),w))}),disabled:H,focused:Q,className:d()(P,ep&&"".concat(N,"-out-of-range")),style:(0,i.Z)((0,i.Z)({},k),$&&!ev?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"==typeof a?a:void 0}},hidden:T,readOnly:_},v.createElement(S,(0,r.Z)({},B,{maxLength:Z,onKeyDown:function(e){var t=B.onPressEnter,n=B.onKeyDown;"Enter"===e.key&&t&&t(e),null==n||n(e)},onChange:function(e){em(e,e.target.value)},onFocus:function(e){X(!0),null==b||b(e)},onBlur:function(e){X(!1),null==x||x(e)},onCompositionStart:function(e){q.current=!0,null==z||z(e)},onCompositionEnd:function(e){q.current=!1,em(e,e.currentTarget.value),null==E||E(e)},className:d()(null==I?void 0:I.textarea),style:(0,i.Z)((0,i.Z)({},null==L?void 0:L.textarea),{},{resize:null==k?void 0:k.resize}),disabled:H,prefixCls:N,onResize:function(e){var t;null==O||O(e),null!==(t=ea())&&void 0!==t&&t.style.height&&ee(!0)},ref:en,readOnly:_})))})}}]);